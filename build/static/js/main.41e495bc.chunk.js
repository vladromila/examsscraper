(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{196:function(e,t,a){e.exports=a(354)},201:function(e,t,a){},225:function(e,t,a){},354:function(e,t,a){"use strict";a.r(t);var n=a(2),i=a.n(n),s=a(16),r=a.n(s),o=(a(201),a(105)),l=a(106),c=a(112),u=a(107),h=a(113),m=a(108),p=a.n(m),d=a(41),g=a.n(d),f=a(40),v=a.n(f),b=a(111),w=a(20),E=a.n(w),C=a(109),y=a.n(C);a(225);E.a.initializeApp({apiKey:"AIzaSyARKv3IusgBPVRPeWeio2x3zvgKCVww2Is",authDomain:"parereatelespectatorilor.firebaseapp.com",databaseURL:"https://parereatelespectatorilor.firebaseio.com",projectId:"parereatelespectatorilor",storageBucket:"parereatelespectatorilor.appspot.com",messagingSenderId:"537648099285"});var R=function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onDoneClick=function(){!1===e.state.success&&0!==e.state.rating&&E.a.database().ref("/users/".concat(E.a.auth().currentUser.uid,"/hasClickedBefore")).set(!0).then(function(){return E.a.database().ref("/votes/").push({rating:e.state.rating,parere:e.state.input}).then(function(){return e.setState({success:!0,showGraph:!0,showContent:!0})})})},e.state={sentRating:0,rating:0,input:"",success:!1,showGraph:!1,showContent:!1,loading:!0},e}return Object(h.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){var e=this;E.a.auth().signInAnonymously().then(function(){E.a.database().ref("/users/".concat(E.a.auth().currentUser.uid,"/hasClickedBefore")).on("value",function(t){!0===t.val()?e.setState({loading:!1,showContent:!1}):e.setState({loading:!1,showContent:!0})})}),E.a.database().ref("/votes").on("value",function(t){var a=0,n=0;p.a.map(t.val(),function(e,t){n++,a+=e.rating});var i=a/n;e.setState({sentRating:i})})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"App"},!0===this.state.loading?i.a.createElement(y.a,{height:"100%",offsetVertical:300},i.a.createElement("img",{src:"https://media.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif"})):!0===this.state.showContent?i.a.createElement("div",null,!1===this.state.success?i.a.createElement("div",null,i.a.createElement("h3",null,"Pentru c\u0103 \u021binem la p\u0103rerea telespectatorilor, dorim s\u0103 ne oferi\u021bi o not\u0103!"),i.a.createElement(g.a,{rating:this.state.rating,starRatedColor:"blue",changeRating:function(t){e.setState({rating:t}),5===t&&e.setState({input:""})},starDimension:"50px",numberOfStars:5})):null,this.state.rating<5&&0!==this.state.rating&&!1===this.state.success?i.a.createElement("div",null,i.a.createElement("h5",null,"\u0218tim ca nu suntem perfec\u021bi, dar dorim sa \u0219tim ce ar trebui sa facem ca sa devenim mai buni!"),i.a.createElement(v.a,{style:{width:"90%"},id:"with-placeholder",label:"Ave\u021bi o sugestie? (f\u0103r\u0103 \xeenjur\u0103turi)",placeholder:"Aveti o sugestie? (f\u0103r\u0103 \xeenjur\u0103turi)",margin:"normal",onChange:function(t){return e.setState({input:t.target.value})}})):null,!1===this.state.showGraph?i.a.createElement(b.a,{style:!0===this.state.success?{color:"green"}:null,onClick:this.onDoneClick},!1===this.state.success?"Gata":"Multumim pentru sprijin"):null,!0===this.state.showGraph?i.a.createElement("div",null,i.a.createElement("h1",null,"Media notelor telespectatorilor este "),i.a.createElement("h1",{style:{fontWeight:"bold"}},this.state.sentRating.toFixed(2),"/5.00"),i.a.createElement(g.a,{rating:this.state.sentRating,starRatedColor:"blue",starDimension:"50px",numberOfStars:5})):null):i.a.createElement("div",null,i.a.createElement("h3",null,"Stim ca ti-a placut si doresti sa mai votezi odata dar nu permitem asta. In schimb poti viziona media notelor!"),i.a.createElement("h1",null,"Media notelor telespectatorilor este "),i.a.createElement("h1",{style:{fontWeight:"bold"}},this.state.sentRating.toFixed(2),"/5.00"),i.a.createElement(g.a,{rating:this.state.sentRating||0,starRatedColor:"blue",starDimension:"50px",numberOfStars:5})))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(R,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[196,2,1]]]);
//# sourceMappingURL=main.41e495bc.chunk.js.map